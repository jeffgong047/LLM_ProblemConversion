Investigating the magnetic field outside small accelerator
magnet analogs via experiment, simulation, and theory 
Kelley D. Sullivan  
 ; Antara Sen  
 ; M. C. Sullivan  
Am. J. Phys.  91, 432 (2023)
https://doi.org/10.1 119/5.0068701
Articles Y ou May Be Interested In
Using the Magpylib library to analyze the ferrofluids in magnetic field sourcing from cylinders
AIP Conference Proceedings  (May 2023)
Analysis of ferrofluid in the container for levitation in 2D using Python Magpylib library
AIP Conference Proceedings  (May 2023)
Tunable homogeneous kG magnetic field production using permanent magnets
Rev. Sci. Instrum.  (December 2021) 04 October 2023 22:52:46
Investigating the magnetic field outside small accelerator magnet
analogs via experiment, simulation, and theory
Kelley D. Sullivan,a)Antara Sen,b)M. C. Sullivanc)
Department of Physics & Astronomy, Ithaca College, Ithaca, New York 14850
(Received 26 August 2021; accepted 25 March 2023)
Particle accelerators use powerful and complex magnetic ﬁelds to turn, shape, and eventually
collide beams of near-light-speed particles, yet the fundamental magnetic principles behind theaccelerator magnets can be understood by undergraduate students. In this paper, we use small-scale
accelerator magnet analogs in a multi-faceted, low-cost exploration of the magnetic ﬁeld exterior
to accelerator magnets. These ﬁelds are best understood using the multipole expansion of the ﬁeld.If we assume that the magnetic ﬁeld is created by ideal magnetic dipoles, we can derive a
theoretical model that shows that each accelerator magnet conﬁguration is dominated by a single
multipole moment and obeys B/1=r
lþ2, where lis the multipole order (with l¼1;2;3;and 4 for
the dipole, quadrupole, octopole, and hexadecapole moments, respectively). Using commercially
available NdFeB magnets and the magnetic ﬁeld sensor inside a smartphone, we experimentally
verify the power-law dependence of the accelerator magnet conﬁgurations. Finally, we use theopen-source Python library Magpylib to simulate the magnetic ﬁeld of the permanent magnet
conﬁgurations, showing good agreement among theory, experiment, and simulation.
#2023
Published under an exclusive license by American Association of Physics Teachers.
https://doi.org/10.1119/5.0068701
I. INTRODUCTION
The advanced laboratory project described in this article
uses accelerator magnets as the motivation—the “hook”—but the learning goals of the project are mathematical deriva-tion, numerical computation, visualization via simulation,experiment design and execution, and data collection andanalysis. This project can be scaled to ﬁt the learning objec-tives of intermediate or advanced laboratory courses and canbe modiﬁed to match the desired skill development for anindividual student. Requiring, at minimum, only a handful ofmagnets, 3D-printed magnet holders, a few raw materialstypically found around the home, a smartphone, and someingenuity, this project can be completed at low cost and canbe conducted in-person or remotely.
Particle accelerators are well known for their impressive
and large mechanical systems, including magnetic focusingand guiding systems.
1The particle beam usually travels
through the center of complex magnet conﬁgurations thatsurround the beam with the poles of electromagnets. Thesemagnet conﬁgurations have been designed to bend (dipole)or focus (quadrupole) the beam or to correct chromatic aber-rations (sextupole)
1,2—several even have their own
Wikipedia pages.3–5We present an advanced laboratory
experiment that investigates accelerator magnets throughinexpensive small-scale permanent magnet analogs, built by
placing permanent magnets with alternating polarities on the
faces of a regular polygon with an even number of sides.Figure 1shows a sextupole magnet conﬁguration. The ﬁelds
inside the magnet conﬁgurations are well known
1(some-
times called “contact ﬁelds,” a term borrowed from atomicphysics).6,7However, the ﬁelds outside the conﬁgurations
are not commonly studied. Given the small size of our accel-erator magnet analogs, they are perfect for use in examiningthese exterior ﬁelds.
In our advanced laboratory experiment, we use a smart-
phone to measure the magnetic ﬁeld. The advent of smart-phones has made a whole suite of physical sensors accessibleto a wide audience. Smartphones have turned into sophisti-
cated pieces of equipment
8,9whose popularity rose dramati-
cally during the pandemic as measurement devices for the
undergraduate physics laboratory. The smartphone magnetic
ﬁeld sensor, intended for use as a compass and in navigationand GPS, has been utilized in experiments where magnets
have been used as timing sensors in pendula,10springs,10and
rotations.11The sensor, a 3-axis Hall sensor, has been used
to explore the magnetic ﬁeld generated by the Earth in both alaboratory context12and in semester-long examinations of
the local magnetic ﬁeld.10,13The magnetic ﬁeld sensor has
also been used to measure the magnetic ﬁelds fromwires,10,14from electric rails,10from Helmholtz coils (when
paired with the accelerometer),10,15and recently in measure-
ments of a dipole and linear quadrupole.16,17Most of these
smartphone laboratories are intended to engage introductory
physics students. Our experiment is based on Refs. 16and
17and uses the smartphone magnetic ﬁeld sensor to measure
the magnetic ﬁeld outside an accelerator magnet analog andthen compare the experimental results to theoretical predic-
tions and simulations.
In Fig. 1, the magnetic ﬁeld sensor inside the phone is
located approximately in the same position as the vectorarrowhead visible in the top left corner of the phone. The
inset shows the magnetic ﬁeld strength as a function of dis-
tance from the center of the magnet conﬁguration for dipoleand sextupole magnet conﬁgurations. The data were obtainedwith the phone using the app Phyphox while the magnet con-
ﬁguration was translated to discrete positions along the
extension arm.
To better understand our measurements, we must predict
what the magnetic ﬁelds outside the magnet conﬁgurations
should look like. We can use simulations to predict these
magnetic ﬁelds. Advances in computing have made compu-tation and simulations common, and open-source programslike Python and repositories like GitHub have made these
complex computations accessible and low-cost. The Python
library Magpylib
18allows users to simulate arbitrary
432 Am. J. Phys. 91(6), June 2023 http://aapt.org/ajp #2023 Published under an exclusive license by AAPT 432 04 October 2023 22:52:46
conﬁgurations of permanent magnets and then examine the
behavior of their associated ﬁelds in both space and time. The
library is straightforward to use for a student with an introduc-
tory knowledge of programming. Figure 1shows a simulated
magnetic ﬁeld generated by a sextupole magnet conﬁguration.
A color gradient indicates the changing magnitude of the ﬁeld
(decreasing from white to yellow to red). Students can use thesimulation to visualize the ﬁelds that would be present outsidethe accelerator magnet analogs, providing qualitative conﬁr-
mation of the expected symmetry and setting requirements
and constraints on the experiment design.
Students with an interest in theoretical physics who have a
working knowledge of Taylor series expansions (intermedi-ate level) or vector calculus (advanced level) can also create
a theoretical model to predict the magnetic ﬁeld produced by
each magnet conﬁguration. If each permanent magnet isreplaced with an ideal dipole, then the ﬁeld can be calculated
analytically. To ﬁnd the magnetic ﬁeld outside the magnet
conﬁgurations, students can use the multipole expansion.The expansion of arbitrary charge and current conﬁgurationsinto multipole moments is a fundamental tool in physics,
19
and it embodies the deconstruction of difﬁcult problems intosmaller and more tractable ones while also yielding impor-tant physical insight. The power-law dependence of the mul-tipole moments, in which the ﬁeld is proportional to 1 =r
lþ2,
where the power lþ2 increases with the multipole order l,
means that the leading multipole moment will dominate thephysical behavior of the system far from the center of the
system. A system with a net electric charge behaves primar-
ily as a point charge—the monopole term, l¼0. The dipole
moment ( l¼1) dominates in electric systems with no netcharge, and as a result, the dipole dominates bonding in
chemical, biochemical, and biological systems.
20Magnetic
systems (which have no monopoles) also behave primarily
as dipoles ( l¼1). Accelerator magnet conﬁgurations are par-
ticularly interesting, because they create ﬁelds in whichmoments higher than the dipole moment dominate the far-
ﬁeld behavior. The inset of Fig. 1shows both the theoretical
and measured magnetic ﬁeld magnitude as a function of theradial distance from the center of a sextupole and a dipole
magnet conﬁguration. The magnetic ﬁeld from the dipole
magnet conﬁguration generates the familiar 1 =r
3behavior,
while the sextupole magnet leading term is the octopole
moment ( l¼3) and drops off more quickly as 1 =r5.
This experiment requires 3D printed magnet holders,21
which can be printed in-house or using a 3D printing ser-
vice.33This experiment also provides additional opportuni-
ties for students with an interest in engineering to design and
3D print optional experimental apparatus to aid in the accu-rate and precise measurement of the ﬁeld. In the work pre-
sented here, we use a stationary smartphone “bed” and
extension arm (see Fig. 1) to carefully position the smart-
phone and magnet conﬁgurations relative to each other to
allow for easily repeatable measurements of the ﬁeld at vary-
ing distances between the center of the magnet conﬁgurationand the sensor inside the smartphone. Our CAD ﬁles are pro-
vided in the supplementary material or online.
21,22
