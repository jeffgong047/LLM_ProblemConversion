problem: See also: Maximum flow problem Each black node denotes a pixel. In the image segmentation problem, there are n pixels. Each pixel i can be assigned a foreground value fi or a background value bi. There is a penalty of pij if pixels i, j are adjacent and have different assignments. The problem is to assign pixels to foreground or background such that the sum of their values minus the penalties is maximum. Let P be the set of pixels assigned to foreground and Q be the set of points assigned to background, then the problem can be formulated as, maxg=∑i∈Pfi+∑i∈Qbi−∑i∈P,j∈Q∨j∈P,i∈Qpij.max{g}=∑_if_i+∑_ib_i-∑_i,j,ip_ij. This maximization problem can be formulated as a minimization problem instead, that is, ming′=∑i∈P,j∈Q∨j∈P,i∈Qpij.min{g'}=∑_i,j,ip_ij. The above minimization problem can be formulated as a minimum-cut problem by constructing a network where the source (orange node) is connected to all the pixels with capacity fi, and the sink (purple node) is connected by all the pixels with capacity bi. Two edges (i, j) and (j, i) with pij capacity are added between two adjacent pixels. The s-t cut-set then represents the pixels assigned to the foreground in P and pixels assigned to background in Q.