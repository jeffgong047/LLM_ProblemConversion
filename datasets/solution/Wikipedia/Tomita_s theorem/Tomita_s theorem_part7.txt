algebras: See also: Commutation theorem for traces § Hilbert algebras The main results of Tomita–Takesaki theory were proved using left and right Hilbert algebras.[2] A left Hilbert algebra is an algebra A𝔄 with involution x → x♯ and an inner product (·,·) such that Left multiplication by a fixed a ∈ A𝔄 is a bounded operator. ♯ is the adjoint; in other words (xy, z) = (y, x♯z). The involution ♯ is preclosed. The subalgebra spanned by all products xy is dense in || w.r.t. the inner product. A right Hilbert algebra is defined similarly (with an involution ♭) with left and right reversed in the conditions above. A (unimodular) Hilbert algebra is a left Hilbert algebra for which ♯ is an isometry, in other words (x, y) = (y♯, x♯). In this case the involution is denoted by x* instead of x♯ and coincides with modular conjugation J. This is the special case of Hilbert algebras. The modular operator is trivial and the corresponding von Neumann algebra is a direct sum of type I and type II von Neumann algebras. Examples: If M is a von Neumann algebra acting on a Hilbert space H with a cyclic separating unit vector v, then put A𝔄 = Mv and define (xv)(yv) = xyv and (xv)♯ = x*v. The vector v is the identity of A𝔄, so A𝔄 is a unital left Hilbert algebra.[3] If G is a locally compact group, then the vector space of all continuous complex functions on G with compact support is a right Hilbert algebra if multiplication is given by convolution, and x♭(g) = x(g−1)*.[3] For a fixed left Hilbert algebra A𝔄, let H be its Hilbert space completion. Left multiplication by x yields a bounded operator λ(x) on H and hence a *-homomorphism λ of A𝔄 into B(H). The *-algebra λ(A)λ(𝔄) generates the von Neumann algebra Rλ(A)=λ(A)′′.R_λ(𝔄)=λ(𝔄)^''. Tomita's key discovery concerned the remarkable properties of the closure of the operator ♯ and its polar decomposition. If S denotes this closure (a conjugate-linear unbounded operator), let Δ = S* S, a positive unbounded operator. Let S = J Δ1/2 denote its polar decomposition. Then J is a conjugate-linear isometry satisfying[4] S=S−1,=S^-1, J2=I,^2=I, JΔJ=Δ−1=Δ^-1 and S=Δ−1/2J S=Δ^-1/2J. Δ is called the modular operator and J the modular conjugation. In Takesaki (2003, pp. 5–17), there is a self-contained proof of the main commutation theorem of Tomita-Takesaki: ΔitRλ(A)Δ−it=Rλ(A)Δ^itR_λ(𝔄)Δ^-it=R_λ(𝔄) and JRλ(A)J=Rλ(A)′. JR_λ(𝔄)J=R_λ(𝔄)^'. The proof hinges on evaluating the operator integral:[5] es/2Δ1/2(Δ+es)−1=∫−∞∞e−isteπt+e−πtΔitdt.^s/2Δ^1/2 (Δ+e^s)^-1=∫_-∞^∞e^-ist^+e^- Δ^it dt. By the spectral theorem,[6] that is equivalent to proving the equality with ex replacing Δ; the identity for scalars follows by contour integration. It reflects the well-known fact that, with a suitable normalisation, the function sechsech is its own Fourier transform.