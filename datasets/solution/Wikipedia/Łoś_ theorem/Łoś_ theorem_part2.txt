Definition: The general method for getting ultraproducts uses an index set I,, a structure Mi_i (assumed to be non-empty in this article) for each element i∈I (all of the same signature), and an ultrafilter U𝒰 on I.. For any two elements a∙=(ai)i∈I_∙=(a_i)_i and b∙=(bi)i∈I_∙=(b_i)_i of the Cartesian product ∏i∈IMi,∏_iM_i, declare them to be U𝒰-equivalent, written a∙∼b∙_∙_∙ or a∙=Ub∙,_∙=_𝒰b_∙, if and only if the set of indices i∈I:ai=bi{i:a_i=b_i} on which they agree is an element of U;𝒰; in symbols, a∙∼b∙⟺i∈I:ai=bi∈U,_∙_∙ {i:a_i=b_i}∈𝒰, which compares components only relative to the ultrafilter U.𝒰. This binary relation ∼ ∼ is an equivalence relation[proof 1] on the Cartesian product ∏i∈IMi.∏_iM_i. The ultraproduct of M∙=(Mi)i∈I_∙=(M_i)_i modulo U𝒰 is the quotient set of ∏i∈IMi∏_iM_i with respect to ∼∼ and is therefore sometimes denoted by ∏i∈IMi/U∏_iM_i / 𝒰 or ∏UM∙.∏_𝒰 M_∙. Explicitly, if the U𝒰-equivalence class of an element a∈∏i∈IMi∈∏_iM_i is denoted by aU:=x∈∏i∈IMi:x∼a_𝒰:={x∈∏_iM_i : x} then the ultraproduct is the set of all U𝒰-equivalence classes ∏UM∙=∏i∈IMi/U:=aU:a∈∏i∈IMi.∏_𝒰 M_∙ = ∏_iM_i / 𝒰 := {a_𝒰 : a∈∏_iM_i}. Although U𝒰 was assumed to be an ultrafilter, the construction above can be carried out more generally whenever U𝒰 is merely a filter on I,, in which case the resulting quotient set ∏i∈IMi/U∏_iM_i/ 𝒰 is called a reduced product. When U𝒰 is a principal ultrafilter (which happens if and only if U𝒰 contains its kernel ∩U∩ 𝒰) then the ultraproduct is isomorphic to one of the factors. And so usually, U𝒰 is not a principal ultrafilter, which happens if and only if U𝒰 is free (meaning ∩U=∅∩ 𝒰=∅), or equivalently, if every cofinite subsets of I is an element of U.𝒰. Since every ultrafilter on a finite set is principal, the index set I is consequently also usually infinite. The ultraproduct acts as a filter product space where elements are equal if they are equal only at the filtered components (non-filtered components are ignored under the equivalence). One may define a finitely additive measure m on the index set I by saying m(A)=1(A)=1 if A∈U∈𝒰 and m(A)=0(A)=0 otherwise. Then two members of the Cartesian product are equivalent precisely if they are equal almost everywhere on the index set. The ultraproduct is the set of equivalence classes thus generated. Finitary operations on the Cartesian product ∏i∈IMi∏_iM_i are defined pointwise (for example, if ++ is a binary function then ai+bi=(a+b)i_i+b_i=(a+b)_i). Other relations can be extended the same way: R(aU1,…,aUn)⟺i∈I:RMi(ai1,…,ain)∈U,(a_𝒰^1,…,a_𝒰^n) {i:R^M_i(a_i^1,…,a_i^n)}∈𝒰, where aU_𝒰 denotes the U𝒰-equivalence class of a with respect to ∼.∼. In particular, if every Mi_i is an ordered field then so is the ultraproduct.