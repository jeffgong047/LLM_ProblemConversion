theorem: The first fundamental theorem holds under general conditions.[38] A formal statement is as follows: If preferences are locally nonsatiated, and if (Xâˆ—,Yâˆ—,p)(ğ—^*,ğ˜^*,ğ©) is a price equilibrium with transfers, then the allocation (Xâˆ—,Yâˆ—)(ğ—^*,ğ˜^*)is Pareto optimal. An equilibrium in this sense either relates to an exchange economy only or presupposes that firms are allocatively and productively efficient, which can be shown to follow from perfectly competitive factor and production markets.[38] Given a set G of types of goods we work in the real vector space over G, RGâ„^G and use boldface for vector valued variables. For instance, if G=butter,cookies,milk={butter,cookies,milk} then RGâ„^G would be a three dimensional vector space and the vector âŸ¨1,2,3âŸ©âŸ¨1,2,3âŸ© would represent the bundle of goods containing 1 unit of butter, 2 units of cookies and 3 units of milk. Suppose that consumer i has wealth wi_i such that Î£iwi=pâ‹…e+Î£jpâ‹…yjâˆ—Î£_iw_i=ğ©Â·ğ+Î£_jğ©Â·ğ²_ğ£^* where eğ is the aggregate endowment of goods (i.e. the sum of all consumer and producer endowments) and yjâˆ—ğ²_ğ£^* is the production of firm j. Preference maximization (from the definition of price equilibrium with transfers) implies (using >i>_i to denote the preference relation for consumer i): if xi>ixiâˆ—ğ±_ğ¢>_iğ±_ğ¢^* then pâ‹…xi>wiğ©Â·ğ±_ğ¢>ğ°_ğ¢ In other words, if a bundle of goods is strictly preferred to xiâˆ—ğ±_ğ¢^* it must be unaffordable at price pğ©. Local nonsatiation additionally implies: if xiâ‰¥ixiâˆ—ğ±_ğ¢â‰¥_iğ±_ğ¢^* then pâ‹…xiâ‰¥wiğ©Â·ğ±_ğ¢â‰¥ğ°_ğ¢ To see why, imagine that xiâ‰¥ixiâˆ—ğ±_ğ¢â‰¥_iğ±_ğ¢^* but pâ‹…xi<wiğ©Â·ğ±_ğ¢<w_i. Then by local nonsatiation we could find xiâ€²ğ±'_ğ¢ arbitrarily close to xiğ±_ğ¢ (and so still affordable) but which is strictly preferred to xiâˆ—ğ±_ğ¢^*. But xiâˆ—ğ±_ğ¢^* is the result of preference maximization, so this is a contradiction. An allocation is a pair (X,Y)(ğ—,ğ˜) where XâˆˆÎ iâˆˆIRGğ—âˆˆÎ _iâ„^G and YâˆˆÎ jâˆˆJRGğ˜âˆˆÎ _jâ„^G, i.e. Xğ— is the 'matrix' (allowing potentially infinite rows/columns) whose ith column is the bundle of goods allocated to consumer i and Yğ˜ is the 'matrix' whose jth column is the production of firm j. We restrict our attention to feasible allocations which are those allocations in which no consumer sells or producer consumes goods which they lack, i.e.,for every good and every consumer that consumers initial endowment plus their net demand must be positive similarly for producers. Now consider an allocation (X,Y)(ğ—,ğ˜) that Pareto dominates (Xâˆ—,Yâˆ—)(ğ—^*,Y^*). This means that xiâ‰¥ixiâˆ—ğ±_ğ¢â‰¥_iğ±_ğ¢^* for all i and xi>ixiâˆ—ğ±_ğ¢>_iğ±_ğ¢^* for some i. By the above, we know pâ‹…xiâ‰¥wiğ©Â·ğ±_ğ¢_i for all i and pâ‹…xi>wiğ©Â·ğ±_ğ¢>w_i for some i. Summing, we find: Î£ipâ‹…xi>Î£iwi=Î£jpâ‹…yjâˆ—Î£_iğ©Â·ğ±_ğ¢>Î£_iw_i=Î£_jğ©Â·ğ²_ğ£^*. Because Yâˆ—ğ˜^* is profit maximizing, we know Î£jpâ‹…yjâˆ—â‰¥Î£jpâ‹…yjÎ£_jğ©_j^*â‰¥Î£_jp_j, so Î£ipâ‹…xi>Î£jpâ‹…yjÎ£_iğ©Â·ğ±_ğ¢>Î£_jğ©Â·ğ²_ğ£. But goods must be conserved so Î£ixi>Î£jyjÎ£_iğ±_ğ¢>Î£_jğ²_ğ£. Hence, (X,Y)(ğ—,ğ˜) is not feasible. Since all Pareto-dominating allocations are not feasible, (Xâˆ—,Yâˆ—)(ğ—^*,ğ˜^*) must itself be Pareto optimal.[38] Note that while the fact that Yâˆ—ğ˜^* is profit maximizing is simply assumed in the statement of the theorem the result is only useful/interesting to the extent such a profit maximizing allocation of production is possible. Fortunately, for any restriction of the production allocation Yâˆ—ğ˜^* and price to a closed subset on which the marginal price is bounded away from 0, e.g., any reasonable choice of continuous functions to parameterize possible productions, such a maximum exists. This follows from the fact that the minimal marginal price and finite wealth limits the maximum feasible production (0 limits the minimum) and Tychonoff's theorem ensures the product of these compacts spaces is compact ensuring us a maximum of whatever continuous function we desire exists. Proof of the second fundamental