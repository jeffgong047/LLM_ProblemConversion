theorem: The first fundamental theorem holds under general conditions.[38] A formal statement is as follows: If preferences are locally nonsatiated, and if (X∗,Y∗,p)(𝐗^*,𝐘^*,𝐩) is a price equilibrium with transfers, then the allocation (X∗,Y∗)(𝐗^*,𝐘^*)is Pareto optimal. An equilibrium in this sense either relates to an exchange economy only or presupposes that firms are allocatively and productively efficient, which can be shown to follow from perfectly competitive factor and production markets.[38] Given a set G of types of goods we work in the real vector space over G, RGℝ^G and use boldface for vector valued variables. For instance, if G=butter,cookies,milk={butter,cookies,milk} then RGℝ^G would be a three dimensional vector space and the vector ⟨1,2,3⟩⟨1,2,3⟩ would represent the bundle of goods containing 1 unit of butter, 2 units of cookies and 3 units of milk. Suppose that consumer i has wealth wi_i such that Σiwi=p⋅e+Σjp⋅yj∗Σ_iw_i=𝐩·𝐞+Σ_j𝐩·𝐲_𝐣^* where e𝐞 is the aggregate endowment of goods (i.e. the sum of all consumer and producer endowments) and yj∗𝐲_𝐣^* is the production of firm j. Preference maximization (from the definition of price equilibrium with transfers) implies (using >i>_i to denote the preference relation for consumer i): if xi>ixi∗𝐱_𝐢>_i𝐱_𝐢^* then p⋅xi>wi𝐩·𝐱_𝐢>𝐰_𝐢 In other words, if a bundle of goods is strictly preferred to xi∗𝐱_𝐢^* it must be unaffordable at price p𝐩. Local nonsatiation additionally implies: if xi≥ixi∗𝐱_𝐢≥_i𝐱_𝐢^* then p⋅xi≥wi𝐩·𝐱_𝐢≥𝐰_𝐢 To see why, imagine that xi≥ixi∗𝐱_𝐢≥_i𝐱_𝐢^* but p⋅xi<wi𝐩·𝐱_𝐢<w_i. Then by local nonsatiation we could find xi′𝐱'_𝐢 arbitrarily close to xi𝐱_𝐢 (and so still affordable) but which is strictly preferred to xi∗𝐱_𝐢^*. But xi∗𝐱_𝐢^* is the result of preference maximization, so this is a contradiction. An allocation is a pair (X,Y)(𝐗,𝐘) where X∈Πi∈IRG𝐗∈Π_iℝ^G and Y∈Πj∈JRG𝐘∈Π_jℝ^G, i.e. X𝐗 is the 'matrix' (allowing potentially infinite rows/columns) whose ith column is the bundle of goods allocated to consumer i and Y𝐘 is the 'matrix' whose jth column is the production of firm j. We restrict our attention to feasible allocations which are those allocations in which no consumer sells or producer consumes goods which they lack, i.e.,for every good and every consumer that consumers initial endowment plus their net demand must be positive similarly for producers. Now consider an allocation (X,Y)(𝐗,𝐘) that Pareto dominates (X∗,Y∗)(𝐗^*,Y^*). This means that xi≥ixi∗𝐱_𝐢≥_i𝐱_𝐢^* for all i and xi>ixi∗𝐱_𝐢>_i𝐱_𝐢^* for some i. By the above, we know p⋅xi≥wi𝐩·𝐱_𝐢_i for all i and p⋅xi>wi𝐩·𝐱_𝐢>w_i for some i. Summing, we find: Σip⋅xi>Σiwi=Σjp⋅yj∗Σ_i𝐩·𝐱_𝐢>Σ_iw_i=Σ_j𝐩·𝐲_𝐣^*. Because Y∗𝐘^* is profit maximizing, we know Σjp⋅yj∗≥Σjp⋅yjΣ_j𝐩_j^*≥Σ_jp_j, so Σip⋅xi>Σjp⋅yjΣ_i𝐩·𝐱_𝐢>Σ_j𝐩·𝐲_𝐣. But goods must be conserved so Σixi>ΣjyjΣ_i𝐱_𝐢>Σ_j𝐲_𝐣. Hence, (X,Y)(𝐗,𝐘) is not feasible. Since all Pareto-dominating allocations are not feasible, (X∗,Y∗)(𝐗^*,𝐘^*) must itself be Pareto optimal.[38] Note that while the fact that Y∗𝐘^* is profit maximizing is simply assumed in the statement of the theorem the result is only useful/interesting to the extent such a profit maximizing allocation of production is possible. Fortunately, for any restriction of the production allocation Y∗𝐘^* and price to a closed subset on which the marginal price is bounded away from 0, e.g., any reasonable choice of continuous functions to parameterize possible productions, such a maximum exists. This follows from the fact that the minimal marginal price and finite wealth limits the maximum feasible production (0 limits the minimum) and Tychonoff's theorem ensures the product of these compacts spaces is compact ensuring us a maximum of whatever continuous function we desire exists. Proof of the second fundamental