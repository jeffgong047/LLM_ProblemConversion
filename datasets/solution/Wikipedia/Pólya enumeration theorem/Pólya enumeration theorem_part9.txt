theorem: The simplified form of the Pólya enumeration theorem follows from Burnside's lemma, which says that the number of orbits of colorings is the average of the number of elements of YX^X fixed by the permutation g of G over all permutations g. The weighted version of the theorem has essentially the same proof, but with a refined form of Burnside's lemma for weighted enumeration. It is equivalent to apply Burnside's lemma separately to orbits of different weight. For clearer notation, let x1,x2,…_1,x_2,… be the variables of the generating function f of Y. Given a vector of weights ωω, let xω^ω denote the corresponding monomial term of f. Applying Burnside's lemma to orbits of weight ωω, the number of orbits of this weight is 1|G|∑g∈G|(YX)ω,g|1/|G|∑_g|(Y^X)_ω,g| where (YX)ω,g(Y^X)_ω,g is the set of colorings of weight ωω that are also fixed by g. If we then sum over all possible weights, we obtain F(x1,x2,…)=1|G|∑g∈G,ωxω|(YX)ω,g|.(x_1,x_2,…)=1/|G|∑_g,ωx^ω|(Y^X)_ω,g|. Meanwhile a group element g with cycle structure j1(g),j2(g),…,jn(g)_1(g),j_2(g),…,j_n(g) will contribute the term t1j1(g)t2j2(g)⋯tnjn(g)_1^j_1(g)t_2^j_2(g)_n^j_n(g) to the cycle index of G. The element g fixes an element ϕ∈YXϕ^X if and only if the function φ is constant on every cycle q of g. For every such cycle q, the generating function by weight of |q| identical colors from the set enumerated by f is f(x1|q|,x2|q|,x3|q|,…).(x_1^|q|,x_2^|q|,x_3^|q|,…). It follows that the generating function by weight of the points fixed by g is the product of the above term over all cycles of g, i.e. ∑ωxω|(YX)ω,g|=∏qcycleofgf(x1|q|,x2|q|,x3|q|,…)=f(x1,x2,…)j1(g)f(x12,x22,…)j2(g)⋯f(x1n,x2n,…)jn(g)∑_ωx^ω|(Y^X)_ω,g| =∏_qcycleofgf(x_1^|q|,x_2^|q|,x_3^|q|,…) =f(x_1,x_2,…)^j_1(g)f(x_1^2,x_2^2,…)^j_2(g)(x_1^n,x_2^n,…)^j_n(g) Substituting this in the sum over all g yields the substituted cycle index as claimed. See