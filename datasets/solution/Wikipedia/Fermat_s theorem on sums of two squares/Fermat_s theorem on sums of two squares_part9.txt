descent: Euler succeeded in proving Fermat's theorem on sums of two squares in 1749, when he was forty-two years old. He communicated this in a letter to Goldbach dated 12 April 1749.[10] The proof relies on infinite descent, and is only briefly sketched in the letter. The full proof consists in five steps and is published in two papers. The first four steps are Propositions 1 to 4 of the first paper[11] and do not correspond exactly to the four steps below. The fifth step below is from the second paper.[12][13] For the avoidance of ambiguity, zero will always be a valid possible constituent of "sums of two squares", so for example every square of an integer is trivially expressible as the sum of two squares by setting one of them to be zero. 1. The product of two numbers, each of which is a sum of two squares, is itself a sum of two squares. This is a well-known property, based on the identity (a2+b2)(p2+q2)=(ap+bq)2+(aq−bp)2(a^2+b^2)(p^2+q^2)=(ap+bq)^2+(aq-bp)^2 due to Diophantus. 2. If a number which is a sum of two squares is divisible by a prime which is a sum of two squares, then the quotient is a sum of two squares. (This is Euler's first Proposition). Indeed, suppose for example that a2+b2^2+b^2 is divisible by p2+q2^2+q^2 and that this latter is a prime. Then p2+q2^2+q^2 divides (pb−aq)(pb+aq)=p2b2−a2q2=p2(a2+b2)−a2(p2+q2).(pb-aq)(pb+aq)=p^2b^2-a^2q^2=p^2(a^2+b^2)-a^2(p^2+q^2). Since p2+q2^2+q^2 is a prime, it divides one of the two factors. Suppose that it divides pb−aq-aq. Since (a2+b2)(p2+q2)=(ap+bq)2+(aq−bp)2(a^2+b^2)(p^2+q^2)=(ap+bq)^2+(aq-bp)^2 (Diophantus's identity) it follows that p2+q2^2+q^2 must divide (ap+bq)2(ap+bq)^2. So the equation can be divided by the square of p2+q2^2+q^2. Dividing the expression by (p2+q2)2(p^2+q^2)^2 yields: a2+b2p2+q2=(ap+bqp2+q2)2+(aq−bpp2+q2)2a^2+b^2/p^2+q^2=(ap+bq/p^2+q^2)^2+(aq-bp/p^2+q^2)^2 and thus expresses the quotient as a sum of two squares, as claimed. On the other hand if p2+q2^2+q^2 divides pb+aq+aq, a similar argument holds by using the following variant of Diophantus's identity: (a2+b2)(q2+p2)=(aq+bp)2+(ap−bq)2.(a^2+b^2)(q^2+p^2)=(aq+bp)^2+(ap-bq)^2. 3. If a number which can be written as a sum of two squares is divisible by a number which is not a sum of two squares, then the quotient has a factor which is not a sum of two squares. (This is Euler's second Proposition). Suppose q is a number not expressible as a sum of two squares, which divides a2+b2^2+b^2. Write the quotient, factored into its (possibly repeated) prime factors, as p1p2⋯pn_1p_2_n so that a2+b2=qp1p2⋯pn^2+b^2=qp_1p_2_n. If all factors pi_i can be written as sums of two squares, then we can divide a2+b2^2+b^2 successively by p1_1, p2_2, etc., and applying step (2.) above we deduce that each successive, smaller, quotient is a sum of two squares. If we get all the way down to q then q itself would have to be equal to the sum of two squares, which is a contradiction. So at least one of the primes pi_i is not the sum of two squares. 4. If a and b are relatively prime positive integers then every factor of a2+b2^2+b^2 is a sum of two squares. (This is the step that uses step (3.) to produce an 'infinite descent' and was Euler's Proposition 4. The proof sketched below also includes the proof of his Proposition 3). Let a,b,b be relatively prime positive integers: without loss of generality a2+b2^2+b^2 is not itself prime, otherwise there is nothing to prove. Let q therefore be a proper factor of a2+b2^2+b^2, not necessarily prime: we wish to show that q is a sum of two squares. Again, we lose nothing by assuming q>2>2 since the case q=2=12+12=2=1^2+1^2 is obvious. Let m,n,n be non-negative integers such that mq,nq,nq are the closest multiples of q (in absolute value) to a,b,b respectively. Notice that the differences c=a−mq=a-mq and d=b−nq=b-nq are integers of absolute value strictly less than q/2/2: indeed, when q>2>2 is even, gcd(a,q/2)=1(a,q/2)=1; otherwise since gcd(a,q/2)∣q/2∣q∣a2+b2(a,q/2)/2^2+b^2, we would also have gcd(a,q/2)∣b(a,q/2). Multiplying out we obtain a2+b2=m2q2+2mqc+c2+n2q2+2nqd+d2=Aq+(c2+d2)^2+b^2=m^2q^2+2mqc+c^2+n^2q^2+2nqd+d^2=Aq+(c^2+d^2) uniquely defining a non-negative integer A. Since q divides both ends of this equation sequence it follows that c2+d2^2+d^2 must also be divisible by q: say c2+d2=qr^2+d^2=qr. Let g be the gcd of c and d which by the co-primeness of a,b,b is relatively prime to q. Thus g2^2 divides r, so writing e=c/g=c/g, f=d/g=d/g and s=r/g2=r/g^2, we obtain the expression e2+f2=qs^2+f^2=qs for relatively prime e and f, and with s<q/2<q/2, since qs=e2+f2≤c2+d2<(q2)2+(q2)2=q2/2.=e^2+f^2^2+d^2<(q/2)^2+(q/2)^2=q^2/2. Now finally, the descent step: if q is not the sum of two squares, then by step (3.) there must be a factor q1_1 say of s which is not the sum of two squares. But q1≤s<q/2<q_1<q/2<q and so repeating these steps (initially with e,f;q1,f;q_1 in place of a,b;q,b;q, and so on ad infinitum) we shall be able to find a strictly decreasing infinite sequence q,q1,q2,…,q_1,q_2,… of positive integers which are not themselves the sums of two squares but which divide into a sum of two relatively prime squares. Since such an infinite descent is impossible, we conclude that q must be expressible as a sum of two squares, as claimed. 5. Every prime of the form 4n+14n+1 is a sum of two squares. (This is the main result of Euler's second paper). If p=4n+1=4n+1, then by Fermat's Little Theorem each of the numbers 1,24n,34n,…,(4n)4n1,2^4n,3^4n,…,(4n)^4n is congruent to one modulo p. The differences 24n−1,34n−24n,…,(4n)4n−(4n−1)4n2^4n-1,3^4n-2^4n,…,(4n)^4n-(4n-1)^4n are therefore all divisible by p. Each of these differences can be factored as a4n−b4n=(a2n+b2n)(a2n−b2n).^4n-b^4n=(a^2n+b^2n)(a^2n-b^2n). Since p is prime, it must divide one of the two factors. If in any of the 4n−14n-1 cases it divides the first factor, then by the previous step we conclude that p is itself a sum of two squares (since a and b differ by 11, they are relatively prime). So it is enough to show that p cannot always divide the second factor. If it divides all 4n−14n-1 differences 22n−1,32n−22n,…,(4n)2n−(4n−1)2n2^2n-1,3^2n-2^2n,…,(4n)^2n-(4n-1)^2n, then it would divide all 4n−24n-2 differences of successive terms, all 4n−34n-3 differences of the differences, and so forth. Since the kth differences of the sequence 1k,2k,3k,…1^k,2^k,3^k,… are all equal to k!! (Finite difference), the 2n2nth differences would all be constant and equal to (2n)!(2n)!, which is certainly not divisible by p. Therefore, p cannot divide all the second factors which proves that p is indeed the sum of two squares. Lagrange's proof through quadratic