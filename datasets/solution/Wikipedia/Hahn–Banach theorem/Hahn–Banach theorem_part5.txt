Proof: The Hahn–Banach theorem for real vector spaces ultimately follows from Helly's initial result for the special case where the linear functional is extended from M to a larger vector space in which M has codimension 1.1.[3] Lemma[6] (One–dimensional dominated extension theorem) — Let p:X→R:X→ℝ be a sublinear function on a real vector space X,, let f:M→R:M→ℝ a linear functional on a proper vector subspace M⊊X such that f≤p on M (meaning f(m)≤p(m)(m)(m) for all m∈M), and let x∈X be a vector not in M (so M⊕Rx=span⁡M,x⊕ℝx=span{M,x}). There exists a linear extension F:M⊕Rx→R:M⊕ℝx→ℝ of f such that F≤p on M⊕Rx.⊕ℝx. Proof[6] Given any real number b,, the map Fb:M⊕Rx→R_b:M⊕ℝx→ℝ defined by Fb(m+rx)=f(m)+rb_b(m+rx)=f(m)+rb is always a linear extension of f to M⊕Rx⊕ℝx[note 1] but it might not satisfy Fb≤p._b. It will be shown that b can always be chosen so as to guarantee that Fb≤p,_b, which will complete the proof. If m,n∈M,n then f(m)−f(n)=f(m−n)≤p(m−n)=p(m+x−x−n)≤p(m+x)+p(−x−n)(m)-f(n)=f(m-n)(m-n)=p(m+x-x-n)(m+x)+p(-x-n) which implies −p(−n−x)−f(n)≤p(m+x)−f(m).-p(-n-x)-f(n) ≤ p(m+x)-f(m). So define a=supn∈M[−p(−n−x)−f(n)]andc=infm∈M[p(m+x)−f(m)]=sup_n[-p(-n-x)-f(n)] and=inf_m[p(m+x)-f(m)] where a≤c are real numbers. To guarantee Fb≤p,_b, it suffices that a≤b≤c (in fact, this is also necessary[note 2]) because then b satisfies "the decisive inequality"[6] −p(−n−x)−f(n)≤b≤p(m+x)−f(m)forallm,n∈M.-p(-n-x)-f(n) ≤ b ≤ p(m+x)-f(m) forall m,n. To see that f(m)+rb≤p(m+rx)(m)+rb(m+rx) follows,[note 3] assume r≠0≠0 and substitute 1rm1rm in for both m and n to obtain −p(−1rm−x)−1rf(m)≤b≤p(1rm+x)−1rf(m).-p(-1rm-x)-1rf(m) ≤ b ≤ p(1rm+x)-1rf(m). If r>0>0 (respectively, if r<0<0) then the right (respectively, the left) hand side equals 1r[p(m+rx)−f(m)]1r[p(m+rx)-f(m)] so that multiplying by r gives rb≤p(m+rx)−f(m).(m+rx)-f(m). ◼▪ This lemma remains true if p:X→R:X→ℝ is merely a convex function instead of a sublinear function.[7][8] Proof Assume that p is convex, which means that p(ty+(1−t)z)≤tp(y)+(1−t)p(z)(ty+(1-t)z)(y)+(1-t)p(z) for all 0≤t≤10≤1 and y,z∈X.,z. Let M,, f:M→R,:M→ℝ, and x∈X∖M be as in the lemma's statement. Given any m,n∈M,n and any positive real r,s>0,,s>0, the positive real numbers t:=sr+s:=sr+s and rr+s=1−trr+s=1-t sum to 11 so that the convexity of p on X guarantees p(sr+sm+rr+sn)=p(sr+s(m−rx)+rr+s(n+sx))≤sr+sp(m−rx)+rr+sp(n+sx)9p(sr+sm+rr+sn) = p(sr+s(m-rx) +rr+s(n+sx)) ≤ sr+s p(m-rx) +rr+s p(n+sx) and hence sf(m)+rf(n)=(r+s)f(sr+sm+rr+sn)bylinearityoff≤(r+s)p(sr+sm+rr+sn)f≤ponM≤sp(m−rx)+rp(n+sx)9sf(m)+rf(n) = (r+s) f(sr+sm+rr+sn) bylinearityoff ≤ (r+s) p(sr+sm+rr+sn) onM ≤ sp(m-rx)+rp(n+sx) thus proving that −sp(m−rx)+sf(m)≤rp(n+sx)−rf(n),-sp(m-rx)+sf(m) ≤ rp(n+sx)-rf(n), which after multiplying both sides by 1rs1rs becomes 1r[−p(m−rx)+f(m)]≤1s[p(n+sx)−f(n)].1r[-p(m-rx)+f(m)] ≤ 1s[p(n+sx)-f(n)]. This implies that the values defined by a=supr>0m∈M1r[−p(m−rx)+f(m)]andc=infs>0n∈M1s[p(n+sx)−f(n)]=sup_mr>01r[-p(m-rx)+f(m)] and=inf_ns>01s[p(n+sx)-f(n)] are real numbers that satisfy a≤c.. As in the above proof of the one–dimensional dominated extension theorem above, for any real b∈R∈ℝ define Fb:M⊕Rx→R_b:M⊕ℝx→ℝ by Fb(m+rx)=f(m)+rb._b(m+rx)=f(m)+rb. It can be verified that if a≤b≤c then Fb≤p_b where rb≤p(m+rx)−f(m)(m+rx)-f(m) follows from b≤c when r>0>0 (respectively, follows from a≤b when r<0<0). ◼▪ The lemma above is the key step in deducing the dominated extension theorem from Zorn's lemma. Proof of dominated extension theorem using Zorn's lemma The set of all possible dominated linear extensions of f are partially ordered by extension of each other, so there is a maximal extension F.. By the codimension-1 result, if F is not defined on all of X,, then it can be further extended. Thus F must be defined everywhere, as claimed. ◼▪ When M has countable codimension, then using induction and the lemma completes the proof of the Hahn–Banach theorem. The standard proof of the general case uses Zorn's lemma although the strictly weaker ultrafilter lemma[11] (which is equivalent to the compactness theorem and to the Boolean prime ideal theorem) may be used instead. Hahn-Banach can also be proved using Tychonoff's theorem for compact Hausdorff spaces[12] (which is also equivalent to the ultrafilter lemma) The Mizar project has completely formalized and automatically checked the proof of the Hahn–Banach theorem in the HAHNBAN file.[13] Continuous extension