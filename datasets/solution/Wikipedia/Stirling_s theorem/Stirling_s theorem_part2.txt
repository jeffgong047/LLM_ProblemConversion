Derivation: Roughly speaking, the simplest version of Stirling's formula can be quickly obtained by approximating the sum ln⁡(n!)=∑j=1nln⁡jln(n!)=∑_j=1^n with an integral: ∑j=1nln⁡j≈∫1nln⁡xdx=nln⁡n−n+1.∑_j=1^n≈∫_1^n dx=n-n+1. The full formula, together with precise estimates of its error, can be derived as follows. Instead of approximating n!!, one considers its natural logarithm, as this is a slowly varying function: ln⁡(n!)=ln⁡1+ln⁡2+⋯+ln⁡n.ln(n!)=ln1+ln2+⋯+. The right-hand side of this equation minus 12(ln⁡1+ln⁡n)=12ln⁡n12(ln1+)=12 is the approximation by the trapezoid rule of the integral ln⁡(n!)−12ln⁡n≈∫1nln⁡xdx=nln⁡n−n+1,ln(n!)-12≈∫_1^n dx=n-n+1, and the error in this approximation is given by the Euler–Maclaurin formula: ln⁡(n!)−12ln⁡n=12ln⁡1+ln⁡2+ln⁡3+⋯+ln⁡(n−1)+12ln⁡n=nln⁡n−n+1+∑k=2m(−1)kBkk(k−1)(1nk−1−1)+Rm,n,ln(n!)-12 =12ln1+ln2+ln3+⋯+ln(n-1)+12 =n-n+1+∑_k=2^m(-1)^kB_k/k(k-1)(1/n^k-1-1)+R_m,n, where Bk_k is a Bernoulli number, and Rm,n is the remainder term in the Euler–Maclaurin formula. Take limits to find that limn→∞(ln⁡(n!)−nln⁡n+n−12ln⁡n)=1−∑k=2m(−1)kBkk(k−1)+limn→∞Rm,n.lim_n→∞(ln(n!)-n+n-12)=1-∑_k=2^m(-1)^kB_k/k(k-1)+lim_n→∞R_m,n. Denote this limit as y. Because the remainder Rm,n in the Euler–Maclaurin formula satisfies Rm,n=limn→∞Rm,n+O(1nm),_m,n=lim_n→∞R_m,n+O(1/n^m), where big-O notation is used, combining the equations above yields the approximation formula in its logarithmic form: ln⁡(n!)=nln⁡(ne)+12ln⁡n+y+∑k=2m(−1)kBkk(k−1)nk−1+O(1nm).ln(n!)=nln(n/e)+12+y+∑_k=2^m(-1)^kB_k/k(k-1)n^k-1+O(1/n^m). Taking the exponential of both sides and choosing any positive integer m, one obtains a formula involving an unknown quantity ey^y. For m = 1, the formula is n!=eyn(ne)n(1+O(1n)).!=e^y√(n)(n/e)^n(1+O(1/n)). The quantity ey^y can be found by taking the limit on both sides as n tends to infinity and using Wallis' product, which shows that ey=2π^y=√(2π). Therefore, one obtains Stirling's formula: n!=2πn(ne)n(1+O(1n)).!=√(2)(n/e)^n(1+O(1/n)). Alternative