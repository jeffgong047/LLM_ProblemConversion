integers: Another way to prove the theorem relies on Hurwitz quaternions, which are the analog of integers for quaternions.[8] Proof using the Hurwitz integers The Hurwitz quaternions consist of all quaternions with integer components and all quaternions with half-integer components. These two sets can be combined into a single formula Î±=12E0(1+i+j+k)+E1i+E2j+E3k=a0+a1i+a2j+a3kÎ±=1/2E_0(1+ğ¢+ğ£+ğ¤)+E_1ğ¢+E_2ğ£+E_3ğ¤=a_0+a_1ğ¢+a_2ğ£+a_3ğ¤ where E0,E1,E2,E3_0,E_1,E_2,E_3 are integers. Thus, the quaternion components a0,a1,a2,a3_0,a_1,a_2,a_3 are either all integers or all half-integers, depending on whether E0_0 is even or odd, respectively. The set of Hurwitz quaternions forms a ring; that is to say, the sum or product of any two Hurwitz quaternions is likewise a Hurwitz quaternion. The (arithmetic, or field) norm N(Î±)N(Î±) of a rational quaternion Î±Î± is the nonnegative rational number N(Î±)=Î±Î±Â¯=a02+a12+a22+a32N(Î±)=Î±Î±Ì…=a_0^2+a_1^2+a_2^2+a_3^2 where Î±Â¯=a0âˆ’a1iâˆ’a2jâˆ’a3kÎ±Ì…=a_0-a_1ğ¢-a_2ğ£-a_3ğ¤ is the conjugate of Î±Î±. Note that the norm of a Hurwitz quaternion is always an integer. (If the coefficients are half-integers, then their squares are of the form 14+n:nâˆˆZ14+n:nâˆˆâ„¤, and the sum of four such numbers is an integer.) Since quaternion multiplication is associative, and real numbers commute with other quaternions, the norm of a product of quaternions equals the product of the norms: N(Î±Î²)=Î±Î²(Î±Î²Â¯)=Î±Î²Î²Â¯Î±Â¯=Î±N(Î²)Î±Â¯=Î±Î±Â¯N(Î²)=N(Î±)N(Î²).N(Î±Î²)=Î±Î²(Î±Î²)=Î±Î²Î²Ì…Î±Ì…=Î±N(Î²)Î±Ì…=Î±Î±Ì…N(Î²)=N(Î±)N(Î²). For any Î±â‰ 0Î±â‰ 0, Î±âˆ’1=Î±Â¯N(Î±)âˆ’1Î±^-1=Î±Ì…N(Î±)^-1. It follows easily that Î±Î± is a unit in the ring of Hurwitz quaternions if and only if N(Î±)=1N(Î±)=1. The proof of the main theorem begins by reduction to the case of prime numbers. Euler's four-square identity implies that if Lagrange's four-square theorem holds for two numbers, it holds for the product of the two numbers. Since any natural number can be factored into powers of primes, it suffices to prove the theorem for prime numbers. It is true for 2=12+12+02+022=1^2+1^2+0^2+0^2. To show this for an odd prime integer p, represent it as a quaternion (p,0,0,0)(p,0,0,0) and assume for now (as we shall show later) that it is not a Hurwitz irreducible; that is, it can be factored into two non-unit Hurwitz quaternions p=Î±Î².=Î±Î². The norms of p,Î±,Î²,Î±,Î² are integers such that N(p)=p2=N(Î±Î²)=N(Î±)N(Î²)N(p)=p^2=N(Î±Î²)=N(Î±)N(Î²) and N(Î±),N(Î²)>1N(Î±),N(Î²)>1. This shows that both N(Î±)N(Î±) and N(Î²)N(Î²) are equal to p (since they are integers), and p is the sum of four squares p=N(Î±)=a02+a12+a22+a32.=N(Î±)=a_0^2+a_1^2+a_2^2+a_3^2. If it happens that the Î±Î± chosen has half-integer coefficients, it can be replaced by another Hurwitz quaternion. Choose Ï‰=(Â±1Â±iÂ±jÂ±k)/2Ï‰=(Â±1Â±ğ¢Â±ğ£Â±ğ¤)/2 in such a way that Î³â‰¡Ï‰+Î±Î³â‰¡Ï‰+Î± has even integer coefficients. Then p=(Î³Â¯âˆ’Ï‰Â¯)Ï‰Ï‰Â¯(Î³âˆ’Ï‰)=(Î³Â¯Ï‰âˆ’1)(Ï‰Â¯Î³âˆ’1).=(Î³Ì…-Ï‰Ì…)Ï‰Ï‰Ì…(Î³-Ï‰)=(Î³Ì…Ï‰-1)(Ï‰Ì…Î³-1). Since Î³Î³ has even integer coefficients, (Ï‰Â¯Î³âˆ’1)(Ï‰Ì…Î³-1) will have integer coefficients and can be used instead of the original Î±Î± to give a representation of p as the sum of four squares. As for showing that p is not a Hurwitz irreducible, Lagrange proved that any odd prime p divides at least one number of the form u=1+l2+m2=1+l^2+m^2, where l and m are integers.[8] This can be seen as follows: since p is prime, a2â‰¡b2(modp)^2^2p can hold for integers a,b,b, only when aâ‰¡Â±b(modp)â‰¡p. Thus, the set X=02,12,â€¦,((pâˆ’1)/2)2={0^2,1^2,â€¦,((p-1)/2)^2} of squares contains (p+1)/2(p+1)/2 distinct residues modulo p. Likewise, Y=âˆ’(1+x):xâˆˆX={-(1+x):x} contains (p+1)/2(p+1)/2 residues. Since there are only p residues in total, and |X|+|Y|=p+1>p|X|+|Y|=p+1>p, the sets X and Y must intersect. The number u can be factored in Hurwitz quaternions: 1+l2+m2=(1+li+mj)(1âˆ’liâˆ’mj).1+l^2+m^2=(1+l ğ¢+m ğ£)(1-l ğ¢-m ğ£). The norm on Hurwitz quaternions satisfies a form of the Euclidean property: for any quaternion Î±=a0+a1i+a2j+a3kÎ±=a_0+a_1ğ¢+a_2ğ£+a_3ğ¤ with rational coefficients we can choose a Hurwitz quaternion Î²=b0+b1i+b2j+b3kÎ²=b_0+b_1ğ¢+b_2ğ£+b_3ğ¤ so that N(Î±âˆ’Î²)<1N(Î±-Î²)<1 by first choosing b0_0 so that |a0âˆ’b0|â‰¤1/4|a_0-b_0|â‰¤1/4 and then b1,b2,b3_1,b_2,b_3 so that |aiâˆ’bi|â‰¤1/2|a_i-b_i|â‰¤1/2 for i=1,2,3=1,2,3. Then we obtain N(Î±âˆ’Î²)=(a0âˆ’b0)2+(a1âˆ’b1)2+(a2âˆ’b2)2+(a3âˆ’b3)2â‰¤(14)2+(12)2+(12)2+(12)2=1316<1.N(Î±-Î²) =(a_0-b_0)^2+(a_1-b_1)^2+(a_2-b_2)^2+(a_3-b_3)^2 â‰¤(1/4)^2+(1/2)^2+(1/2)^2+(1/2)^2=13/16<1. It follows that for any Hurwitz quaternions Î±,Î²Î±,Î² with Î±â‰ 0Î±â‰ 0, there exists a Hurwitz quaternion Î³Î³ such that N(Î²âˆ’Î±Î³)<N(Î±).N(Î²-Î±Î³)<N(Î±). The ring H of Hurwitz quaternions is not commutative, hence it is not an actual Euclidean domain, and it does not have unique factorization in the usual sense. Nevertheless, the property above implies that every right ideal is principal. Thus, there is a Hurwitz quaternion Î±Î± such that Î±H=pH+(1âˆ’liâˆ’mj)H.=pH+(1-l ğ¢-m ğ£)H. In particular, p=Î±Î²=Î±Î² for some Hurwitz quaternion Î²Î². If Î²Î² were a unit, 1âˆ’liâˆ’mj1-l ğ¢-m ğ£ would be a multiple of p, however this is impossible as 1/pâˆ’l/piâˆ’m/pj1/p-l/p ğ¢-m/p ğ£ is not a Hurwitz quaternion for p>2>2. Similarly, if Î±Î± were a unit, we would have (1+li+mj)H=(1+li+mj)pH+(1+li+mj)(1âˆ’liâˆ’mj)HâŠ†pH(1+l ğ¢+m ğ£)H=(1+l ğ¢+m ğ£)pH+(1+l ğ¢+m ğ£)(1-l ğ¢-m ğ£)H so p divides 1+li+mj1+l ğ¢+m ğ£, which again contradicts the fact that 1/pâˆ’l/piâˆ’m/pj1/p-l/p ğ¢-m/p ğ£ is not a Hurwitz quaternion. Thus, p is not Hurwitz irreducible, as claimed.