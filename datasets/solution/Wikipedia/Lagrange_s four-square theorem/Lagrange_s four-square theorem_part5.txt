integers: Another way to prove the theorem relies on Hurwitz quaternions, which are the analog of integers for quaternions.[8] Proof using the Hurwitz integers The Hurwitz quaternions consist of all quaternions with integer components and all quaternions with half-integer components. These two sets can be combined into a single formula α=12E0(1+i+j+k)+E1i+E2j+E3k=a0+a1i+a2j+a3kα=1/2E_0(1+𝐢+𝐣+𝐤)+E_1𝐢+E_2𝐣+E_3𝐤=a_0+a_1𝐢+a_2𝐣+a_3𝐤 where E0,E1,E2,E3_0,E_1,E_2,E_3 are integers. Thus, the quaternion components a0,a1,a2,a3_0,a_1,a_2,a_3 are either all integers or all half-integers, depending on whether E0_0 is even or odd, respectively. The set of Hurwitz quaternions forms a ring; that is to say, the sum or product of any two Hurwitz quaternions is likewise a Hurwitz quaternion. The (arithmetic, or field) norm N(α)N(α) of a rational quaternion αα is the nonnegative rational number N(α)=αα¯=a02+a12+a22+a32N(α)=αα̅=a_0^2+a_1^2+a_2^2+a_3^2 where α¯=a0−a1i−a2j−a3kα̅=a_0-a_1𝐢-a_2𝐣-a_3𝐤 is the conjugate of αα. Note that the norm of a Hurwitz quaternion is always an integer. (If the coefficients are half-integers, then their squares are of the form 14+n:n∈Z14+n:n∈ℤ, and the sum of four such numbers is an integer.) Since quaternion multiplication is associative, and real numbers commute with other quaternions, the norm of a product of quaternions equals the product of the norms: N(αβ)=αβ(αβ¯)=αββ¯α¯=αN(β)α¯=αα¯N(β)=N(α)N(β).N(αβ)=αβ(αβ)=αββ̅α̅=αN(β)α̅=αα̅N(β)=N(α)N(β). For any α≠0α≠0, α−1=α¯N(α)−1α^-1=α̅N(α)^-1. It follows easily that αα is a unit in the ring of Hurwitz quaternions if and only if N(α)=1N(α)=1. The proof of the main theorem begins by reduction to the case of prime numbers. Euler's four-square identity implies that if Lagrange's four-square theorem holds for two numbers, it holds for the product of the two numbers. Since any natural number can be factored into powers of primes, it suffices to prove the theorem for prime numbers. It is true for 2=12+12+02+022=1^2+1^2+0^2+0^2. To show this for an odd prime integer p, represent it as a quaternion (p,0,0,0)(p,0,0,0) and assume for now (as we shall show later) that it is not a Hurwitz irreducible; that is, it can be factored into two non-unit Hurwitz quaternions p=αβ.=αβ. The norms of p,α,β,α,β are integers such that N(p)=p2=N(αβ)=N(α)N(β)N(p)=p^2=N(αβ)=N(α)N(β) and N(α),N(β)>1N(α),N(β)>1. This shows that both N(α)N(α) and N(β)N(β) are equal to p (since they are integers), and p is the sum of four squares p=N(α)=a02+a12+a22+a32.=N(α)=a_0^2+a_1^2+a_2^2+a_3^2. If it happens that the αα chosen has half-integer coefficients, it can be replaced by another Hurwitz quaternion. Choose ω=(±1±i±j±k)/2ω=(±1±𝐢±𝐣±𝐤)/2 in such a way that γ≡ω+αγ≡ω+α has even integer coefficients. Then p=(γ¯−ω¯)ωω¯(γ−ω)=(γ¯ω−1)(ω¯γ−1).=(γ̅-ω̅)ωω̅(γ-ω)=(γ̅ω-1)(ω̅γ-1). Since γγ has even integer coefficients, (ω¯γ−1)(ω̅γ-1) will have integer coefficients and can be used instead of the original αα to give a representation of p as the sum of four squares. As for showing that p is not a Hurwitz irreducible, Lagrange proved that any odd prime p divides at least one number of the form u=1+l2+m2=1+l^2+m^2, where l and m are integers.[8] This can be seen as follows: since p is prime, a2≡b2(modp)^2^2p can hold for integers a,b,b, only when a≡±b(modp)≡p. Thus, the set X=02,12,…,((p−1)/2)2={0^2,1^2,…,((p-1)/2)^2} of squares contains (p+1)/2(p+1)/2 distinct residues modulo p. Likewise, Y=−(1+x):x∈X={-(1+x):x} contains (p+1)/2(p+1)/2 residues. Since there are only p residues in total, and |X|+|Y|=p+1>p|X|+|Y|=p+1>p, the sets X and Y must intersect. The number u can be factored in Hurwitz quaternions: 1+l2+m2=(1+li+mj)(1−li−mj).1+l^2+m^2=(1+l 𝐢+m 𝐣)(1-l 𝐢-m 𝐣). The norm on Hurwitz quaternions satisfies a form of the Euclidean property: for any quaternion α=a0+a1i+a2j+a3kα=a_0+a_1𝐢+a_2𝐣+a_3𝐤 with rational coefficients we can choose a Hurwitz quaternion β=b0+b1i+b2j+b3kβ=b_0+b_1𝐢+b_2𝐣+b_3𝐤 so that N(α−β)<1N(α-β)<1 by first choosing b0_0 so that |a0−b0|≤1/4|a_0-b_0|≤1/4 and then b1,b2,b3_1,b_2,b_3 so that |ai−bi|≤1/2|a_i-b_i|≤1/2 for i=1,2,3=1,2,3. Then we obtain N(α−β)=(a0−b0)2+(a1−b1)2+(a2−b2)2+(a3−b3)2≤(14)2+(12)2+(12)2+(12)2=1316<1.N(α-β) =(a_0-b_0)^2+(a_1-b_1)^2+(a_2-b_2)^2+(a_3-b_3)^2 ≤(1/4)^2+(1/2)^2+(1/2)^2+(1/2)^2=13/16<1. It follows that for any Hurwitz quaternions α,βα,β with α≠0α≠0, there exists a Hurwitz quaternion γγ such that N(β−αγ)<N(α).N(β-αγ)<N(α). The ring H of Hurwitz quaternions is not commutative, hence it is not an actual Euclidean domain, and it does not have unique factorization in the usual sense. Nevertheless, the property above implies that every right ideal is principal. Thus, there is a Hurwitz quaternion αα such that αH=pH+(1−li−mj)H.=pH+(1-l 𝐢-m 𝐣)H. In particular, p=αβ=αβ for some Hurwitz quaternion ββ. If ββ were a unit, 1−li−mj1-l 𝐢-m 𝐣 would be a multiple of p, however this is impossible as 1/p−l/pi−m/pj1/p-l/p 𝐢-m/p 𝐣 is not a Hurwitz quaternion for p>2>2. Similarly, if αα were a unit, we would have (1+li+mj)H=(1+li+mj)pH+(1+li+mj)(1−li−mj)H⊆pH(1+l 𝐢+m 𝐣)H=(1+l 𝐢+m 𝐣)pH+(1+l 𝐢+m 𝐣)(1-l 𝐢-m 𝐣)H so p divides 1+li+mj1+l 𝐢+m 𝐣, which again contradicts the fact that 1/p−l/pi−m/pj1/p-l/p 𝐢-m/p 𝐣 is not a Hurwitz quaternion. Thus, p is not Hurwitz irreducible, as claimed.