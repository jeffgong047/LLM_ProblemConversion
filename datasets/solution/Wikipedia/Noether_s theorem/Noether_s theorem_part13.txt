derivation: Suppose we have an n-dimensional oriented Riemannian manifold, M and a target manifold T. Let C𝒞 be the configuration space of smooth functions from M to T. (More generally, we can have smooth sections of a fiber bundle over M.) Examples of this M in physics include: In classical mechanics, in the Hamiltonian formulation, M is the one-dimensional manifold Rℝ, representing time and the target space is the cotangent bundle of space of generalized positions. In field theory, M is the spacetime manifold and the target space is the set of values the fields can take at any given point. For example, if there are m real-valued scalar fields, φ1,…,φmφ_1,…,φ_m, then the target manifold is Rmℝ^m. If the field is a real vector field, then the target manifold is isomorphic to R3ℝ^3. Now suppose there is a functional S:C→R,𝒮:𝒞→ℝ, called the action. (It takes values into Rℝ, rather than Cℂ; this is for physical reasons, and is unimportant for this proof.) To get to the usual version of Noether's theorem, we need additional restrictions on the action. We assume S[φ]𝒮[φ] is the integral over M of a function L(φ,∂μφ,x)ℒ(φ,∂_μφ,x) called the Lagrangian density, depending on φφ, its derivative and the position. In other words, for φφ in C𝒞 S[φ]=∫ML[φ(x),∂μφ(x),x]dnx.𝒮[φ] = ∫_Mℒ[φ(x),∂_μφ(x),x] d^nx. Suppose we are given boundary conditions, i.e., a specification of the value of φφ at the boundary if M is compact, or some limit on φφ as x approaches ∞. Then the subspace of C𝒞 consisting of functions φφ such that all functional derivatives of S𝒮 at φφ are zero, that is: δS[φ]δφ(x)≈0δ𝒮[φ]/δφ(x)≈0 and that φφ satisfies the given boundary conditions, is the subspace of on shell solutions. (See principle of stationary action) Now, suppose we have an infinitesimal transformation on C𝒞, generated by a functional derivation, Q such that Q[∫NLdnx]≈∫∂Nfμ[φ(x),∂φ,∂∂φ,…]dsμ[∫_Nℒ d^nx]≈∫_f^μ[φ(x),∂φ,∂∂φ,…] ds_μ for all compact submanifolds N or in other words, Q[L(x)]≈∂μfμ(x)[ℒ(x)]≈∂_μf^μ(x) for all x, where we set L(x)=L[φ(x),∂μφ(x),x].ℒ(x)=ℒ[φ(x),∂_μφ(x),x]. If this holds on shell and off shell, we say Q generates an off-shell symmetry. If this only holds on shell, we say Q generates an on-shell symmetry. Then, we say Q is a generator of a one parameter symmetry Lie group. Now, for any N, because of the Euler–Lagrange theorem, on shell (and only on-shell), we have Q[∫NLdnx]=∫N[∂L∂φ−∂μ∂L∂(∂μφ)]Q[φ]dnx+∫∂N∂L∂(∂μφ)Q[φ]dsμ≈∫∂Nfμdsμ.Q[∫_Nℒ d^nx] =∫_N[∂ℒ/∂φ-∂_μ∂ℒ/∂(∂_μφ)]Q[φ] d^nx+∫_∂ℒ/∂(∂_μφ)Q[φ] ds_μ ≈∫_f^μ ds_μ. Since this is true for any N, we have ∂μ[∂L∂(∂μφ)Q[φ]−fμ]≈0.∂_μ[∂ℒ/∂(∂_μφ)Q[φ]-f^μ]≈0. But this is the continuity equation for the current Jμ^μ defined by:[15] Jμ=∂L∂(∂μφ)Q[φ]−fμ,^μ = ∂ℒ/∂(∂_μφ)Q[φ]-f^μ, which is called the Noether current associated with the symmetry. The continuity equation tells us that if we integrate this current over a space-like slice, we get a conserved quantity called the Noether charge (provided, of course, if M is noncompact, the currents fall off sufficiently fast at infinity).